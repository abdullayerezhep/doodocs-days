# Doodocs Backend Challenge

–í—ã –ø—Ä–∏–≥–ª–∞—à–µ–Ω—ã –Ω–∞ –ø–µ—Ä–≤—ã–π —ç—Ç–∞–ø —Å—Ç–∞–∂–∏—Ä–æ–≤–∫–∏ –≤ Doodocs.kz!

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –≤–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–∞–º –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –≤–∞—à–∏–º –ø–æ–¥—Ö–æ–¥–æ–º –∫ —Ä–µ—à–µ–Ω–∏—é –∑–∞–¥–∞—á –∏ –æ—Ü–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –≤–∞—à–∏—Ö –Ω–∞–≤—ã–∫–æ–≤.

## –ó–∞–¥–∞–Ω–∏–µ

–í –¥–∞–Ω–Ω–æ–º –∑–∞–¥–∞–Ω–∏–∏ –≤–∞–º –Ω—É–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å REST API.

–ì–∞–π–¥–ª–∞–π–Ω—ã:
- üíª –ß–∏—Å—Ç—ã–π –∫–æ–¥
- üèõÔ∏è –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- üß© –†–∞—Å—à–∏—Ä—è–µ–º—ã–π –∫–æ–¥
- üß™ –ù–∞–ª–∏—á–∏–µ —Ç–µ—Å—Ç–æ–≤
- üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ CPU –∏ RAM

–°–ø–∏—Å–æ–∫ —Ç—Ä–µ–±—É–µ–º—ã—Ö —Ä–æ—É—Ç–æ–≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω –Ω–∏–∂–µ.

### 1. –†–æ—É—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏–≤—É

–†–æ—É—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –∞—Ä—Ö–∏–≤–æ–º –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —ç—Ç–æ–≥–æ –∞—Ä—Ö–∏–≤–∞.

–†–æ—É—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ñ–∞–π–ª —á–µ—Ä–µ–∑ "multipart/form-data" –≤ —Å–µ–∫—Ü–∏–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "file".

> üí° –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞—Ä—Ö–∏–≤–æ–º, –≤–µ—Ä–Ω–∏—Ç–µ –æ—à–∏–±–∫—É. –§–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π.
> –ü—Ä–æ—è–≤–∏—Ç–µ —Ñ–∞–Ω—Ç–∞–∑–∏—é, –ª—É—á—à–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ü–µ–Ω–∏–º –ø–æ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤—É.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞:

| –ü–æ–ª–µ         | –¢–∏–ø         | –û–ø–∏—Å–∞–Ω–∏–µ                             |
| ------------ | ----------- | ------------------------------------ |
| filename     | string      | –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∞—Ä—Ö–∏–≤–∞                |
| archive_size | float       | –†–∞–∑–º–µ—Ä –∞—Ä—Ö–∏–≤–∞ –≤ –±–∞–π—Ç–∞—Ö               |
| total_size   | float       | –†–∞–∑–º–µ—Ä –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –∞—Ä—Ö–∏–≤–µ –≤ –±–∞–π—Ç–∞—Ö |
| total_files  | float       | –û–±—â–µ–µ –∫–æ–ª-–≤–æ —Ñ–∞–π–ª–æ–≤ –≤ –∞—Ä—Ö–∏–≤–µ         |
| files        | –û–±—ä–µ–∫—Ç —Ñ–∞–π–ª | –ú–∞—Å—Å–∏–≤ —Ñ–∞–π–ª–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö—Å—è –≤ –∞—Ä—Ö–∏–≤–µ  |

–û–±—ä–µ–∫—Ç —Ñ–∞–π–ª:

| –ü–æ–ª–µ      | –¢–∏–ø    | –û–ø–∏—Å–∞–Ω–∏–µ                           |
| --------- | ------ | ---------------------------------- |
| file_path | string | –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É, –≤–∫–ª—é—á–∞—è –ø–∞–ø–∫–∏ |
| size      | float  | –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ –±–∞–π—Ç–∞—Ö              |
| mimetype  | string | mimetype —Ñ–∞–π–ª–∞ (—Ç–∏–ø —Ñ–∞–π–ª–∞)         |

–ü—Ä–∏–º–µ—Ä HTTP-–∑–∞–ø—Ä–æ—Å–∞:

```http
POST /api/archive/information HTTP/1.1
Content-Type: multipart/form-data; boundary=-{some-random-boundary}

-{some-random-boundary}
Content-Disposition: form-data; name="file"; filename="my_archive.zip"
Content-Type: application/zip

{Binary data of ZIP file}
-{some-random-boundary}--
```

HTTP-–æ—Ç–≤–µ—Ç:

```http
HTTP/1.1 200 OK
Content-Type: application/json

{
    "filename": "my_archive.zip",
    "archive_size": 4102029.312,
    "total_size": 6836715.52,
    "total_files": 2,
    "files": [
        {
            "file_path": "photo.jpg",
            "size": 2516582.4,
            "mimetype": "image/jpeg"
        },
        {
            "file_path": "directory/document.docx",
            "size": 4320133.12,
            "mimetype": "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
        }
    ]
}
```

### 2. –†–æ—É—Ç –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ä—Ö–∏–≤–∞

–†–æ—É—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤, –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏—Ö –≤ .zip –∞—Ä—Ö–∏–≤ –∏ –≤–æ–∑—Ä–∞—â–∞–µ—Ç –∞—Ä—Ö–∏–≤ –∫–ª–∏–µ–Ω—Ç—É.

–†–æ—É—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ "multipart/form-data" –≤ —Å–µ–∫—Ü–∏–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "files[]".

–§–∞–π–ª—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –ø–æ mime —Ç–∏–ø—É. –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∫ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–æ–ª—å–∫–æ —Å–ª–µ–¥. —Ç–∏–ø—ã:
- `application/vnd.openxmlformats-officedocument.wordprocessingml.document`
- `application/xml`
- `image/jpeg`
- `image/png`

–ï—Å–ª–∏ –≤ —Å–ø–∏—Å–∫–µ —Ñ–∞–π–ª–æ–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è —Ö–æ—Ç—å –æ–¥–∏–Ω –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ - –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ—à–∏–±–∫—É.

> üí° –§–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π. –ü—Ä–æ—è–≤–∏—Ç–µ —Ñ–∞–Ω—Ç–∞–∑–∏—é, –ª—É—á—à–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ü–µ–Ω–∏–º –ø–æ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤—É.

–ü—Ä–∏–º–µ—Ä HTTP-–∑–∞–ø—Ä–æ—Å–∞:

```http
POST /api/archive/files HTTP/1.1
Content-Type: multipart/form-data; boundary=-{some-random-boundary}

-{some-random-boundary}
Content-Disposition: form-data; name="files[]"; filename="document.docx"
Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document

{Binary data of file}
-{some-random-boundary}
Content-Disposition: form-data; name="files[]"; filename="avatar.png"
Content-Type: image/png

{Binary data of file}
-{some-random-boundary}--
```

HTTP-–æ—Ç–≤–µ—Ç:

```http
HTTP/1.1 200 OK
Content-Type: application/zip

{Binary data of ZIP file}
```

### 3. –†–æ—É—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ—á—Ç–∞–º

–†–æ—É—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∞–π–ª –∏ —Å–ø–∏—Å–æ–∫ –ø–æ—á—Ç - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø–æ—á—Ç–∞–º.

–†–æ—É—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ "multipart/form-data":
- –§–∞–π–ª –≤ —Å–µ–∫—Ü–∏–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "file"
- –°–ø–∏—Å–æ–∫ –ø–æ—á—Ç –≤ —Å–µ–∫—Ü–∏–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "emails"

–§–∞–π–ª—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –ø–æ mime —Ç–∏–ø—É. –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ç–æ–ª—å–∫–æ —Å–ª–µ–¥. —Ç–∏–ø—ã:
- `application/vnd.openxmlformats-officedocument.wordprocessingml.document`
- `application/pdf`

> üí° –§–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π. –ü—Ä–æ—è–≤–∏—Ç–µ —Ñ–∞–Ω—Ç–∞–∑–∏—é, –ª—É—á—à–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ü–µ–Ω–∏–º –ø–æ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤—É.

> üí° –ú–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SMTP —Å–µ—Ä–≤–µ—Ä GMail –∏–ª–∏ –ª—é–±–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞. –ì–ª–∞–≤–Ω–æ–µ —á—Ç–æ–±—ã 
> –≤–∞—à–∏ –ª–æ–≥–∏–Ω—ã –∏ –ø–∞—Ä–æ–ª–∏ –Ω–µ —É—Ç–µ–∫–ª–∏ –≤ –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

–ü—Ä–∏–º–µ—Ä HTTP-–∑–∞–ø—Ä–æ—Å–∞:

```http
POST /api/mail/file HTTP/1.1
Content-Type: multipart/form-data; boundary=-{some-random-boundary}

-{some-random-boundary}
Content-Disposition: form-data; name="file"; filename="document.docx"
Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document

{Binary data of file}
-{some-random-boundary}
Content-Disposition: form-data; name="emails"

elonmusk@x.com,jeffbezos@amazon.com,zuckerberg@meta.com
-{some-random-boundary}--
```

HTTP-–æ—Ç–≤–µ—Ç:

```http
HTTP/1.1 200 OK
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ render.com (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞—à—É API –Ω–∞ render.com (–∞–Ω–∞–ª–æ–≥ heroku).

> üí° –ù–∞ render.com –Ω–µ —Å–Ω–∏–º–∞—é—Ç –¥–µ–Ω–µ–≥ –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –∫–∞—Ä—Ç—ã –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞.

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ URL —Å—Å—ã–ª–∫—É –Ω–∞ —Å–≤–æ–π REST API.

### 5. –ó–∞–ø–∏—à–∏—Ç–µ –≤–∏–¥–µ–æ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∏–¥–µ–æ –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª–µ–µ 5 –º–∏–Ω—É—Ç. –ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Ä–∞–±–æ—Ç—É –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ–±—ä—è—Å–Ω–∏—Ç–µ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥. –í–∏–¥–µ–æ –º–æ–∂–Ω–æ –≤—ã–ª–æ–∂–∏—Ç—å –Ω–∞ YouTube, Google Drive –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –≤–∏–¥–µ–æ—Ö–æ—Å—Ç–∏–Ω–≥.

### 6. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É

–ù–∞ —Ñ–æ—Ä–º—É —Å–¥–∞—á–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å:
- —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ (–∑–∞—Ä–∞–Ω–µ–µ –æ—Ç–∫—Ä–æ–π—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∞ –≤–∏–¥–µ–æ)
- —Å—Å—ã–ª–∫—É –æ—Ç render.com
- —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∑–∞—Ä–∞–Ω–µ–µ –æ—Ç–∫—Ä–æ–π—Ç–µ –¥–æ—Å—Ç—É–ø)

[–§–û–†–ú–ê –°–î–ê–ß–ò](https://tally.so/r/nGolOp)
